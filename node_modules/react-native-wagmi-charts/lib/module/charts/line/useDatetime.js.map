{"version":3,"sources":["useDatetime.ts"],"names":["useDerivedValue","formatDatetime","useLineChart","useLineChartDatetime","format","locale","options","currentIndex","data","timestamp","value","timestampString","toString","formatted","formattedDatetime"],"mappings":"AAAA,SAASA,eAAT,QAAgC,yBAAhC;AAEA,SAASC,cAAT,QAA+B,aAA/B;AAEA,SAASC,YAAT,QAA6B,gBAA7B;AAEA,OAAO,SAASC,oBAAT,CAA8B;AACnCC,EAAAA,MADmC;AAEnCC,EAAAA,MAFmC;AAGnCC,EAAAA;AAHmC,IAQjC,EARG,EAQC;AACN,QAAM;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAAyBN,YAAY,EAA3C;AAEA,QAAMO,SAAS,GAAGT,eAAe,CAAC,MAAM;AACtC,QAAI,OAAOO,YAAY,CAACG,KAApB,KAA8B,WAA9B,IAA6CH,YAAY,CAACG,KAAb,KAAuB,CAAC,CAAzE,EACE,OAAO,EAAP;AACF,WAAOF,IAAI,CAACD,YAAY,CAACG,KAAd,CAAJ,CAAyBD,SAAhC;AACD,GAJgC,EAI9B,CAACF,YAAD,EAAeC,IAAf,CAJ8B,CAAjC;AAMA,QAAMG,eAAe,GAAGX,eAAe,CAAC,MAAM;AAC5C,QAAIS,SAAS,CAACC,KAAV,KAAoB,EAAxB,EAA4B,OAAO,EAAP;AAC5B,WAAOD,SAAS,CAACC,KAAV,CAAgBE,QAAhB,EAAP;AACD,GAHsC,EAGpC,CAACH,SAAD,CAHoC,CAAvC;AAKA,QAAMI,SAAS,GAAGb,eAAe,CAAC,MAAM;AACtC,UAAMc,iBAAiB,GAAGL,SAAS,CAACC,KAAV,GACtBT,cAAc,CAAC;AACbS,MAAAA,KAAK,EAAED,SAAS,CAACC,KADJ;AAEbL,MAAAA,MAFa;AAGbC,MAAAA;AAHa,KAAD,CADQ,GAMtB,EANJ;AAOA,WAAOF,MAAM,GACTA,MAAM,CAAC;AAAEM,MAAAA,KAAK,EAAED,SAAS,CAACC,KAAV,IAAmB,CAAC,CAA7B;AAAgCG,MAAAA,SAAS,EAAEC;AAA3C,KAAD,CADG,GAETA,iBAFJ;AAGD,GAXgC,EAW9B,CAACV,MAAD,EAASC,MAAT,EAAiBC,OAAjB,EAA0BG,SAA1B,CAX8B,CAAjC;AAaA,SAAO;AAAEC,IAAAA,KAAK,EAAEC,eAAT;AAA0BE,IAAAA;AAA1B,GAAP;AACD","sourcesContent":["import { useDerivedValue } from 'react-native-reanimated';\n\nimport { formatDatetime } from '../../utils';\nimport type { TFormatterFn } from '../candle/types';\nimport { useLineChart } from './useLineChart';\n\nexport function useLineChartDatetime({\n  format,\n  locale,\n  options,\n}: {\n  format?: TFormatterFn<number>;\n  locale?: string;\n  options?: Intl.DateTimeFormatOptions;\n} = {}) {\n  const { currentIndex, data } = useLineChart();\n\n  const timestamp = useDerivedValue(() => {\n    if (typeof currentIndex.value === 'undefined' || currentIndex.value === -1)\n      return '';\n    return data[currentIndex.value].timestamp;\n  }, [currentIndex, data]);\n\n  const timestampString = useDerivedValue(() => {\n    if (timestamp.value === '') return '';\n    return timestamp.value.toString();\n  }, [timestamp]);\n\n  const formatted = useDerivedValue(() => {\n    const formattedDatetime = timestamp.value\n      ? formatDatetime({\n          value: timestamp.value,\n          locale,\n          options,\n        })\n      : '';\n    return format\n      ? format({ value: timestamp.value || -1, formatted: formattedDatetime })\n      : formattedDatetime;\n  }, [format, locale, options, timestamp]);\n\n  return { value: timestampString, formatted };\n}\n"]}